<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE section PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN" "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
<!ENTITY % BOOK_ENTITIES SYSTEM "../Settings_and_Operations_Guide.ent">
%BOOK_ENTITIES;
]>
<section id="Region_Diagnostics" remap="TID_15021">
	<title>Region Diagnostics</title>
	<para>
		Using the console, you can set the priority of server regional roles, review and reset replication, and create backups of your database either on demand or on a schedule.
	</para>
	<para>
		Regions are used primarily to consolidate multiple VMDBs into one master VMDB for reporting while zones are used to define functional groups of servers. There can be only one region per VMDB, but multiple zones per region (or VMDB). Some server roles are aware of each other across <productname>CloudForms Management Engine</productname> Appliances at the region level. This means that redundancy and failover rules apply at the region level. You can also set priorities for the server roles that provide failover.
	</para>
	<para>
		If you have multiple servers in your environment with duplicate failover roles, then you can set the priority of the server role.
	</para>
	<itemizedlist>
		<listitem>
			<para>
				Only server roles that support failover can be marked as primary. These roles only allow one server to be active at a time. These are Notifier, Capacity &amp; Utilization Coordinator, Database Synchronization, Event Monitor, Scheduler, Storage Inventory, and Provider Inventory.
			</para>
		</listitem>
		<listitem>
			<para>
				All other server roles are additive. The more servers with that role in a zone the more work that can be performed.
			</para>
		</listitem>
	</itemizedlist>
	<para>
		There are three role priorities.
	</para>
	<itemizedlist>
		<listitem>
			<para>
				Primary: There can only be one primary per zone or region per role. When an appliance is started, the system looks to see if any role is set to primary. If that is the case, the role is activated on that appliance and deactivated from the secondary. In the console, primary roles are shown in bold letters. The text turns red if the server goes down. You must actively set the primary priority.
			</para>
		</listitem>
		<listitem>
			<para>
				Secondary: This is the default priority. There can be multiple secondaries. When an appliance is started, if no primary is found in the zone, the first appliance to start takes the role. In the console, secondary roles are displayed normally with the word "secondary".
			</para>
		</listitem>
		<listitem>
			<para>
				Tertiary: If all appliances with primary roles or secondary roles were down, one of the tertiary would be activated. The reason for tertiary is to ensure that if a server with crucial roles such as Provider Inventory or Event Monitor goes down, you have a way to associate those roles to different appliances by organizing the priorities. Tertiary roles simply show as active in the console.
			</para>
		</listitem>
	</itemizedlist>
</section>