<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE section PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN" "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
<!ENTITY % BOOK_ENTITIES SYSTEM "../Control_Guide.ent">
%BOOK_ENTITIES;
]>
<section id="Creating_a_Condition" remap="TID_14743">
	<title>Creating a Condition</title>
	<para>
		You can create a condition either from within a policy screen or by going directly to the expression editor in the <productname>CloudForms Management Engine</productname> console. You need to define a description and an expression element. The expression element defines what criteria you want to use to test the condition.
	</para>
	<procedure>
		<title>To Create a Condition</title>
		<step>
			<para>
				Navigate to <menuchoice><guimenu>Control</guimenu><guisubmenu>Explorer</guisubmenu></menuchoice>.
			</para>
		</step>
		<step>
			<para>
				Click the <guimenuitem>Conditions</guimenuitem> accordion, and select either <guimenu>Host Conditions</guimenu> or <guimenu>VM Conditions</guimenu>.
			</para> 
			<!--mediaobject>
				<imageobject>
					<imagedata align="center" fileref="images/1885.png"/>
				</imageobject>
			</mediaobject-->
		</step>
		<step>
			<para>
				Click 
				<inlinemediaobject>
					<imageobject>
						<imagedata fileref="images/1847.png" />
					</imageobject>
				</inlinemediaobject> (<guilabel>Configuration</guilabel>), then 
				<inlinemediaobject>
					<imageobject>
						<imagedata fileref="images/1848.png" />
					</imageobject>
				</inlinemediaobject> (<guilabel>Add a New Host Condition</guilabel>) or 
				<inlinemediaobject>
					<imageobject>
						<imagedata fileref="images/1848.png" />
					</imageobject>
				</inlinemediaobject> (<guilabel>Add a New VM Condition</guilabel>).
			</para>
		</step>
		<step>
			<para>
				Enter a <guilabel>Description</guilabel> for the condition.
			</para>
			<mediaobject>
				<imageobject>
					<imagedata align="center" fileref="images/1886.png" />
				</imageobject>
			</mediaobject>
		</step>
		<step>
			<para>
				Click 
				<inlinemediaobject>
					<imageobject>
						<imagedata fileref="images/1851.png" />
					</imageobject>
				</inlinemediaobject> (<guilabel>Edit this Scope</guilabel>) in the <guilabel>Scope</guilabel> area to create a general condition based on a simple attribute. Based on what you choose, different options appear. Creating a scope is optional.
			</para>
			<mediaobject>
				<imageobject>
					<imagedata align="center" fileref="images/1887.png" />
				</imageobject>
			</mediaobject>
			<itemizedlist>
				<listitem>
					<para>
						Click <guilabel>Field</guilabel> to create criteria based on field values.
					</para>
					<mediaobject>
						<imageobject>
							<imagedata align="center" fileref="images/1888.png" />
						</imageobject>
					</mediaobject>
				</listitem>
				<listitem>
					<para>
						Click <guilabel>Count of</guilabel> to create criteria based on the count of something, such as the number of network adapters on the host.
					</para>
					<mediaobject>
						<imageobject>
							<imagedata align="center" fileref="images/1889.png" />
						</imageobject>
					</mediaobject>
				</listitem>
				<listitem>
					<para>
						Click <guilabel>Tag</guilabel> to create criteria based on tags assigned to your resources. For example, you can check the power state of a virtual machine or see if it is tagged as production.
					</para>
					<mediaobject>
						<imageobject>
							<imagedata align="center" fileref="images/1890.png" />
						</imageobject>
					</mediaobject>
				</listitem>
				<listitem>
					<para>
						Click <guilabel>Find</guilabel> to seek a particular value, and then check a property. For example, finding the Admin account and checking that it is enabled. Use the following check commands:
					</para>
					<itemizedlist>
						<listitem>
							<para> 
								<guimenuitem>Check Any</guimenuitem>: The result is true if one or more of the find results satisfy the check condition.
							</para>
						</listitem>
						<listitem>
							<para> 
								<guimenuitem>Check All</guimenuitem>: All of the find results must match for a true result.
							</para>
						</listitem>
						<listitem>
							<para> 
								<guimenuitem>Check Count</guimenuitem>: If the result satisfies the expression in check count, the result is true.
							</para>
							<mediaobject>
								<imageobject>
									<imagedata align="center" fileref="images/1891.png" />
								</imageobject>
							</mediaobject>
						</listitem>
					</itemizedlist>
				</listitem>
				<listitem>
					<para>
						Click <guilabel>Registry</guilabel> to create criteria based on registry values. For example, you can check if DCOM is enabled on a Windows System. Note that this applies only to Windows operating systems. Registry will only be available if you are creating a VM Condition.
					</para>
					<mediaobject>
						<imageobject>
							<imagedata align="center" fileref="images/1892.png" />
						</imageobject>
					</mediaobject>
				</listitem>
			</itemizedlist>
		</step>
		<step>
			<para>
				Click 
				<inlinemediaobject>
					<imageobject>
						<imagedata fileref="images/1863.png" />
					</imageobject>
				</inlinemediaobject> (<guilabel>Commit expression element changes</guilabel>) to add the scope.
			</para>
		</step>
		<step>
			<para>
				Click 
				<inlinemediaobject>
					<imageobject>
						<imagedata fileref="images/1851.png" />
					</imageobject>
				</inlinemediaobject> (<guilabel>Edit this Expression</guilabel>) in the <guilabel>Expression</guilabel> area to create a general condition based on a simple attribute. Based on what you choose, different options appear.
			</para>
			<itemizedlist>
				<listitem>
					<para>
						Click <guilabel>Field</guilabel> to create criteria based on field values.
					</para>
					<mediaobject>
						<imageobject>
							<imagedata align="center" fileref="images/1893.png" />
						</imageobject>
					</mediaobject>
				</listitem>
				<listitem>
					<para>
						Click <guilabel>Count of</guilabel> to create criteria based on the count of something, such as the number of snapshots for a virtual machine, or the number of virtual machines on a host.
					</para>
					<mediaobject>
						<imageobject>
							<imagedata align="center" fileref="images/1894.png" />
						</imageobject>
					</mediaobject>
				</listitem>
				<listitem>
					<para>
						Click <guilabel>Tag</guilabel> to create criteria based on tags assigned to your resources. For example, you can check the power state of a virtual machine or see if it is tagged as production.
					</para>
					<mediaobject>
						<imageobject>
							<imagedata align="center" fileref="images/1895.png" />
						</imageobject>
					</mediaobject>
				</listitem>
				<listitem>
					<para>
						Click <guilabel>Find</guilabel> to seek a particular value, and then check a property. For example, finding the Admin account and checking that it is enabled. Use the following check commands.
					</para>
					<itemizedlist>
						<listitem>
							<para> 
								<guimenuitem>Check Any</guimenuitem>: The result is true if one or more of the find results satisfy the check condition.
							</para>
						</listitem>
						<listitem>
							<para> 
								<guimenuitem>Check All</guimenuitem>: All of the find results must match for a true result.
							</para>
						</listitem>
						<listitem>
							<para> 
								<guimenuitem>Check Count</guimenuitem>: If the result satisfies the expression in check count, the result is true.
							</para>
							<mediaobject>
								<imageobject>
									<imagedata align="center" fileref="images/1896.png" />
								</imageobject>
							</mediaobject>
						</listitem>
					</itemizedlist>
				</listitem>
				<listitem>
					<para>
						Click <guilabel>Registry</guilabel> to create criteria based on registry values. For example, you can check if DCOM is enabled on a Windows System. Note that this applies only to Windows operating systems.
					</para>
					<mediaobject>
						<imageobject>
							<imagedata align="center" fileref="images/1897.png" />
						</imageobject>
					</mediaobject>
				</listitem>
			</itemizedlist>
		</step>
		<step>
			<para>
				Click 
				<inlinemediaobject>
					<imageobject>
						<imagedata fileref="images/1863.png" />
					</imageobject>
				</inlinemediaobject> (<guilabel>Commit expression element changes</guilabel>) to add the expression.
			</para>
		</step>
		<step>
			<para>
				In <guilabel>Notes</guilabel>, type in a detailed explanation of the condition.
			</para>
		</step>
		<step>
			<para>
				Click <guibutton>Add</guibutton>.
			</para>
		</step>
	</procedure>
</section>