<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE article PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN" "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
<!ENTITY % BOOK_ENTITIES SYSTEM "Deployment_Planning_Guide.ent">
%BOOK_ENTITIES;
]>
<article>
	<xi:include href="Article_Info.xml" xmlns:xi="http://www.w3.org/2001/XInclude" />
	<section id="sect-Introduction_to_Red_Hat_CloudForms">
		<title>Introduction to Red Hat CloudForms</title> 
		<para> 
			<productname>CloudForms Management Engine</productname> delivers the insight, control, and automation enterprises need to address the challenges of managing virtual environments. This technology enables enterprises with existing virtual infrastructures to improve visibility and control, and those starting virtualization deployments to build and operate a well-managed virtual infrastructure.
		</para>
		<para>
			Red Hat CloudForms 3.2 is comprised of a single component, the <productname>CloudForms Management Engine</productname>. It has the following feature sets:
		</para>
		<itemizedlist>
			<listitem>
				<para>
					Insight: Discovery, Monitoring, Utilization, Performance, Reporting, Analytics, Chargeback, and Trending.
				</para>
			</listitem>
			<listitem>
				<para>
					Control: Security, Compliance, Alerting, and Policy-Based Resource, and Configuration Enforcement.
				</para>
			</listitem>
			<listitem>
				<para>
					Automate: IT Process, Task and Event, Provisioning, and Workload Management and Orchestration.
				</para>
			</listitem>
			<listitem>
				<para>
					Integrate: Systems Management, Tools and Processes, Event Consoles, Configuration Management Database (CMDB), Role-based Administration (RBA), and Web Services.
				</para>
			</listitem>
		</itemizedlist>
		<xi:include href="topics/Architecture2.xml" xmlns:xi="http://www.w3.org/2001/XInclude" />
		<xi:include href="topics/Requirements1.xml" xmlns:xi="http://www.w3.org/2001/XInclude" />
		<xi:include href="topics/Terminology2.xml" xmlns:xi="http://www.w3.org/2001/XInclude" />
		<xi:include href="topics/Getting_Help_and_Giving_Feedback.xml" xmlns:xi="http://www.w3.org/2001/XInclude" />
	</section>
	<section id="sect-Planning">
		<title>Planning</title> 
		<para>
			This guide provides some general guidelines to planning Red Hat CloudForms Management Engine. This includes creating multiple regions containing Red Hat CloudForms Management Engine appliances, CPU sizing recommendations, database sizing recommendations, and database configuration.
		</para>
		<xi:include href="topics/Regions.xml" xmlns:xi="http://www.w3.org/2001/XInclude" />
		<xi:include href="topics/CPU_Sizing_Assistant.xml" xmlns:xi="http://www.w3.org/2001/XInclude" />
		<xi:include href="topics/Database_Sizing_Assistant.xml" xmlns:xi="http://www.w3.org/2001/XInclude" />
		<xi:include href="topics/Example_PostgreSQL_Configuration_File.xml" xmlns:xi="http://www.w3.org/2001/XInclude" />
	</section>
	<section id="sect-Security">
		<title>Security</title> 
		<table frame="all">
			<title>Ports Used by CloudForms Management Engine</title>
			<tgroup cols="6">
				<colspec colwidth="4*" />
				<colspec colwidth="2*" />
				<colspec colwidth="2*" />
				<colspec colwidth="2*" />
				<colspec colwidth="2*" />
				<colspec colwidth="4*" />
				<thead>
					<row>
						<entry>
							<para>
								Initiator (CFME Role if applicable)
							</para>
						</entry>
						<entry>
							<para>
								Receiver (CFME Role if applicable)
							</para>
						</entry>
						<entry>
							<para>
								Application
							</para>
						</entry>
						<entry>
							<para>
								TCP Port
							</para>
						</entry>
						<entry>
							<para>
								UDP Port
							</para>
						</entry>
						<entry>
							<para>
								Purpose/Reason
							</para>
						</entry>
					</row>
				</thead>
				<tbody>
					<row>
						<entry>
							<para>
								Administrator (Internet Browser)
							</para>
						</entry>
						<entry>
							<para>
								CFME Appliance (User Interface)
							</para>
						</entry>
						<entry>
							<para>
								HTTPS
							</para>
						</entry>
						<entry>
							<para>
								443
							</para>
						</entry>
						<entry>
							<para />
						</entry>
						<entry>
							<para>
								Access to CFME Appliance User Interface
							</para>
						</entry>
					</row>
					<row>
						<entry>
							<para>
								Administrator (Internet Browser)
							</para>
						</entry>
						<entry>
							<para>
								CFME Appliance (User Interface)
							</para>
						</entry>
						<entry>
							<para>
								HTTP
							</para>
						</entry>
						<entry>
							<para>
								80
							</para>
						</entry>
						<entry>
							<para />
						</entry>
						<entry>
							<para>
								Redirect Web Browser to HTTPS service (443)
							</para>
						</entry>
					</row>
					<row>
						<entry>
							<para>
								Service Catalog or other integration through Web Service
							</para>
						</entry>
						<entry>
							<para>
								CFME Appliance (Web Service)
							</para>
						</entry>
						<entry>
							<para>
								HTTPS
							</para>
						</entry>
						<entry>
							<para>
								443
							</para>
						</entry>
						<entry>
							<para />
						</entry>
						<entry>
							<para>
								Access to CFME Appliance Web Service
							</para>
						</entry>
					</row>
					<row>
						<entry>
							<para>
								CFME Appliance
							</para>
						</entry>
						<entry>
							<para>
								NFS Server
							</para>
						</entry>
						<entry>
							<para>
								NFS
							</para>
						</entry>
						<entry>
							<para>
								2049
							</para>
						</entry>
						<entry>
							<para>
								2049
							</para>
						</entry>
						<entry>
							<para>
								Embedded NFS VM scanning
							</para>
						</entry>
					</row>
					<row>
						<entry>
							<para>
								CFME Appliance (User Interface)
							</para>
						</entry>
						<entry>
							<para>
								Any Virtual Machine
							</para>
						</entry>
						<entry>
							<para>
								TCP
							</para>
						</entry>
						<entry>
							<para>
								903
							</para>
						</entry>
						<entry>
							<para />
						</entry>
						<entry>
							<para>
								VM Remote Console (if using MKS plugin)
							</para>
						</entry>
					</row>
					<row>
						<entry>
							<para>
								CFME Appliance (User Interface)
							</para>
						</entry>
						<entry>
							<para>
								Any Hypervisor Host
							</para>
						</entry>
						<entry>
							<para>
								TCP
							</para>
						</entry>
						<entry>
							<para>
								5900-5999
							</para>
						</entry>
						<entry>
							<para />
						</entry>
						<entry>
							<para>
								VM Remote Console (if using VNC)
							</para>
						</entry>
					</row>
					<row>
						<entry>
							<para>
								CFME Appliance (any role)
							</para>
						</entry>
						<entry>
							<para>
								CFME Appliance running the VMDB (or MS SQL)
							</para>
						</entry>
						<entry>
							<para>
								PostgreSQL Named Pipes
							</para>
						</entry>
						<entry>
							<para>
								5432 (1433 MS SQL)
							</para>
						</entry>
						<entry>
							<para />
						</entry>
						<entry>
							<para>
								CFME Appliance connectivity to the CFME Database (PostgreSQL or MS SQL)
							</para>
						</entry>
					</row>
					<row>
						<entry>
							<para>
								CFME Subordinate Region VMDB Appliance(Database Synchronization)
							</para>
						</entry>
						<entry>
							<para>
								CFME Master Region VMDB Appliance
							</para>
						</entry>
						<entry>
							<para>
								PostgreSQL Named Pipes
							</para>
						</entry>
						<entry>
							<para>
								5432 (1433 MS SQL)
							</para>
						</entry>
						<entry>
							<para />
						</entry>
						<entry>
							<para>
								Regional VMDB node replication up to Master VMDB node (PostgreSQL only)
							</para>
						</entry>
					</row>
					<row>
						<entry>
							<para>
								CFME Appliance(Authentication through LDAP)
							</para>
						</entry>
						<entry>
							<para>
								LDAP Server (AD or other)
							</para>
						</entry>
						<entry>
							<para>
								LDAP
							</para>
						</entry>
						<entry>
							<para>
								389
							</para>
						</entry>
						<entry>
							<para />
						</entry>
						<entry>
							<para>
								LDAP integration
							</para>
						</entry>
					</row>
					<row>
						<entry>
							<para>
								CFME Appliance (Authentication through LDAPs)
							</para>
						</entry>
						<entry>
							<para>
								LDAP Server (AD or other)
							</para>
						</entry>
						<entry>
							<para>
								LDAPs
							</para>
						</entry>
						<entry>
							<para>
								636
							</para>
						</entry>
						<entry>
							<para />
						</entry>
						<entry>
							<para>
								LDAPS integration
							</para>
						</entry>
					</row>
					<row>
						<entry>
							<para>
								SNMP Agent
							</para>
						</entry>
						<entry>
							<para>
								CFME Appliance (Notifier)
							</para>
						</entry>
						<entry>
							<para>
								SNMP (UDP)
							</para>
						</entry>
						<entry>
							<para />
						</entry>
						<entry>
							<para>
								161
							</para>
						</entry>
						<entry>
							<para>
								SNMP Polling
							</para>
						</entry>
					</row>
					<row>
						<entry>
							<para>
								CFME Appliance (Notifier)
							</para>
						</entry>
						<entry>
							<para>
								SNMP Server
							</para>
						</entry>
						<entry>
							<para>
								SNMP (TCP)
							</para>
						</entry>
						<entry>
							<para>
								162
							</para>
						</entry>
						<entry>
							<para />
						</entry>
						<entry>
							<para>
								SNMP Trap Send
							</para>
						</entry>
					</row>
					<row>
						<entry>
							<para>
								CFME Appliance (Notifier)
							</para>
						</entry>
						<entry>
							<para>
								Mail server
							</para>
						</entry>
						<entry>
							<para>
								SMTP
							</para>
						</entry>
						<entry>
							<para>
								25
							</para>
						</entry>
						<entry>
							<para />
						</entry>
						<entry>
							<para>
								SNMP Trap Send
							</para>
						</entry>
					</row>
					<row>
						<entry>
							<para>
								CFME Appliance (any role)
							</para>
						</entry>
						<entry>
							<para>
								NTP Server
							</para>
						</entry>
						<entry>
							<para>
								NTP
							</para>
						</entry>
						<entry>
							<para />
						</entry>
						<entry>
							<para>
								123
							</para>
						</entry>
						<entry>
							<para>
								Time Source
							</para>
						</entry>
					</row>
					<row>
						<entry>
							<para>
								CFME Appliance
							</para>
						</entry>
						<entry>
							<para>
								CFME SmartProxy installed on Windows or Linux
							</para>
						</entry>
						<entry>
							<para>
								HTTPS
							</para>
						</entry>
						<entry>
							<para>
								1139
							</para>
						</entry>
						<entry>
							<para />
						</entry>
						<entry>
							<para>
								Communication with SmartProxy
							</para>
						</entry>
					</row>
					<row>
						<entry>
							<para>
								CFME SmartProxy installed on Windows or Linux
							</para>
						</entry>
						<entry>
							<para>
								CFME Appliance
							</para>
						</entry>
						<entry>
							<para>
								HTTPS
							</para>
						</entry>
						<entry>
							<para>
								443
							</para>
						</entry>
						<entry>
							<para />
						</entry>
						<entry>
							<para>
								SmartProxy Heartbeat
							</para>
						</entry>
					</row>
					<row>
						<entry>
							<para>
								CFME Appliance
							</para>
						</entry>
						<entry>
							<para>
								DNS Server
							</para>
						</entry>
						<entry>
							<para>
								UDP
							</para>
						</entry>
						<entry>
							<para />
						</entry>
						<entry>
							<para>
								53
							</para>
						</entry>
						<entry>
							<para>
								DNS Lookups
							</para>
						</entry>
					</row>
				</tbody>
			</tgroup>
		</table>  
		<table frame="all">
			<title>Red Hat Enterprise Virtualization Ports Used by CloudForms Management Engine</title>
			<tgroup cols="6">
				<colspec colwidth="4*" />
				<colspec colwidth="2*" />
				<colspec colwidth="2*" />
				<colspec colwidth="2*" />
				<colspec colwidth="2*" />
				<colspec colwidth="4*" />
				<thead>
					<row>
						<entry>
							<para>
								Initiator (CFME Role if applicable)
							</para>
						</entry>
						<entry>
							<para>
								Receiver (CFME Role if applicable)
							</para>
						</entry>
						<entry>
							<para>
								Application
							</para>
						</entry>
						<entry>
							<para>
								TCP Port
							</para>
						</entry>
						<entry>
							<para>
								UDP Port
							</para>
						</entry>
						<entry>
							<para>
								Purpose/Reason
							</para>
						</entry>
					</row>
				</thead>
				<tbody>
					<row>
						<entry>
							<para>
								CFME Appliance (SmartProxy)
							</para>
						</entry>
						<entry>
							<para>
								RHEV-M Server
							</para>
						</entry>
						<entry>
							<para>
								HTTPS
							</para>
						</entry>
						<entry>
							<para>
								8443
							</para>
						</entry>
						<entry>
							<para />
						</entry>
						<entry>
							<para>
								API communications to RHEV-M environment (Inventory, Operations, SmartProxy)
							</para>
						</entry>
					</row>
					<row>
						<entry>
							<para>
								CFME Appliance (C&amp;U)
							</para>
						</entry>
						<entry>
							<para>
								RHEV-M Server
							</para>
						</entry>
						<entry>
							<para>
								PostgreSQL
							</para>
						</entry>
						<entry>
							<para>
								5432
							</para>
						</entry>
						<entry>
							<para />
						</entry>
						<entry>
							<para>
								RHEV-M History Database (Database connectivity not enabled by default). See <ulink url="https://access.redhat.com/site/solutions/63277">How to access RHEV-M Postgres DB from remote machine</ulink>.
							</para>
						</entry>
					</row>
					<row>
						<entry>
							<para>
								CFME Appliance
							</para>
						</entry>
						<entry>
							<para>
								RHEVH Hosts or RHEL Hypervisors
							</para>
						</entry>
						<entry>
							<para>
								SSH
							</para>
						</entry>
						<entry>
							<para>
								22
							</para>
						</entry>
						<entry>
							<para />
						</entry>
						<entry>
							<para>
								SSH connections.
							</para>
						</entry>
					</row>
					<row>
						<entry>
							<para>
								CFME Appliance
							</para>
						</entry>
						<entry>
							<para>
								RHEVH Hosts or RHEL Hypervisors
							</para>
						</entry>
						<entry>
							<para>
								DirectLUN
							</para>
						</entry>
						<entry>
							<para />
						</entry>
						<entry>
							<para />
						</entry>
						<entry>
							<para>
								Direct LUN hook must be installed and enabled for embedded VM scanning on FC or iSCSI storage devices. Not a tcp/udp connection.
							</para>
						</entry>
					</row>
				</tbody>
			</tgroup>
		</table>
	</section>
	<xi:include href="Revision_History.xml" xmlns:xi="http://www.w3.org/2001/XInclude" />
</article>