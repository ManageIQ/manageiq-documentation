<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE section PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN" "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
<!ENTITY % BOOK_ENTITIES SYSTEM "../Red_Hat_CloudForms_REST_API.ent">
%BOOK_ENTITIES;
]>
<section id="Retire_a_Service" remap="TID_44455">
	<title>Retire a Service</title>
	<para>
		Request:
	</para>
	<screen>POST /api/services</screen>
	<programlisting>{
  "action" : "retire",
  "resource" : { "href" : "http://localhost:3000/api/services/35" }
}</programlisting>
	<para>
		Response:
	</para>
	<programlisting>{
  "results" : [
    {
      "href": "http://localhost:3000/api/services/95",
      "id": 95,
      "name": "sample_service_95",
      "description": "Description for sample_service_95",
      "guid": "eb713538-7c9b-11e4-8a3a-b8e85646e742",
      "options": {
      },
      "created_at": "2014-12-05T16:29:43Z",
      "updated_at": "2015-05-08T19:32:00Z"
    }
  ]
}</programlisting>
	<simpara>
		Alternatively, target the service directly:
	</simpara>
	<screen>POST /api/services/95</screen>
	<programlisting>{
  "action" : "retire"
}</programlisting>
	<para>
		Response:
	</para>
	<programlisting>{
  "href": "http://localhost:3000/api/services/95",
  "id": 95,
  "name": "sample_service_95",
  "description": "Description for sample_service_95",
  "guid": "eb713538-7c9b-11e4-8a3a-b8e85646e742",
  "options": {
  },
  "created_at": "2014-12-05T16:29:43Z",
  "updated_at": "2015-05-08T19:32:00Z"
}</programlisting>
	<para>
		Retire a service in the future -
	</para>
	<para>
		Request:
	</para>
	<screen>POST /api/services/93</screen>
	<programlisting>{
  "action" : "retire",
  "resource" : { "date" : "10/31/2015", "warn" : "7"  }
}</programlisting>
	<para>
		Response:
	</para>
	<programlisting>{
  "href": "http://localhost:3000/api/services/93",
  "id": 93,
  "name": "sample_service_93",
  "description": "Description for sample_service_93",
  "guid": "eb709e02-7c9b-11e4-8a3a-b8e85646e742",
  "options": {
  },
  "created_at": "2014-12-05T16:29:43Z",
  "updated_at": "2015-05-08T19:40:19Z",
  "retired": false,
  "retires_on": "2015-10-30",
  "retirement_warn": 7
}</programlisting>
</section>