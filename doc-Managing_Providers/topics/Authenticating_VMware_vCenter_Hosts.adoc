= Authenticating VMware vCenter Hosts

The procedure below describes how to authenticate the VMware vCenter hosts. 

. Navigate to menu:Infrastructure[Providers]. 
. Click on a provider to display its summary screen. 
. On the summary screen, click #Hosts# in the #Relationships# information box to display the hosts on that provider. 
. Select the hosts to authenticate.
  You can select all hosts using the #Check All# option. 
. Click  image:images/1847.png[] btn:[(Configuration)]			
. Click  image:images/1851.png[] btn:[(Edit Selected items)].
. In the #Credentials# area, under #Default#, provide the VMware ESXi login credentials:
+
* Enter the user name in the #Username# field. 
* Enter the password in the #Password# field. 
* Confirm the password in the #Confirm Password# field. 
* Click btn:[Validate] to confirm CFME can connect to the VMware vCenter host. 
. If editing multiple hosts, select a host from the #Select Host to validate against# list; provide the VMware ESXi login credentials and click btn:[Validate].
. Click btn:[Save].

== Using a Non-Administrator Account for Host Credentials

After adding a VMware vCenter infrastructure provider, you must authenticate its hosts to enable full functionality. You can use administrator credentials, or create another user assigned to a role (See the VMware documentation for instructions on how to create a role) created for Red Hat CloudForms Management Engine. The following privileges should be enabled for the non-administrator user:

From the Global group, check:

* Cancel task
* Diagnostics
* Log Event
* Set custom attribute
* Settings

The entire set of privileges for the following groups should be checked:

* Alarms
* Datastores
* dvPort Group
* Host
* Network
* Resource
* Scheduled Task
* Tasks
* Virtual Machine
* vSphere Distributed Switch

Additionally, you must assign the new role to the following objects:

* *Datacenter*: At the Datacenter the CloudForms Management Engine (CFME) (formerly EVM) user/group must have at least the read-only role at the Datacenter level (Not Propagated) to be able to see the datacenter. Without this access, relationships cannot be made. Specifically, the datastores will not show up.
* *Cluster*: Each Cluster that the CloudForms Management Engine needs access to must have the new role assigned and propagated.
* *Folders*: Each Folder that CloudForms Management Engine needs access to must have the new role assigned and propagated.
* *Datastores*: Each Datastore that CloudForms Management Engine needs access to must have the new role assigned and propagated.
* *Networking*: Each vLAN or Port Group that CloudForms Management Engine needs access to must have the new role assigned and propagated.

