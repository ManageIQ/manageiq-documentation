<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE chapter PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN" "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
<!ENTITY % BOOK_ENTITIES SYSTEM "Insight_Guide.ent">
%BOOK_ENTITIES;
]>
<chapter id="chap-Capacity_Planning">
	<title>Capacity Planning</title>
	<section id="sect-Capacity_and_Utilization_Collection">
		<title>Capacity and Utilization Collection</title> 
		<para> 
			<productname>CloudForms Management Engine</productname> server can collect and analyze capacity and utilization data from your virtual infrastructure. Use this data to understand the limitations of your current environment and plan for growth.
		</para>
		<para>
			For some capacity and utilization data, <productname>CloudForms Management Engine</productname> calculates and shows trend lines in the charts. Trend lines are created using linear regression. The calculation uses the capacity and utilization data collected by <productname>CloudForms Management Engine</productname> during the interval you specify for the chart. The more data you have the better the predictive value of the trend line.
		</para>
		<para>
			There are three server roles associated with the collection and metric creation of capacity and utilization.
		</para>
		<itemizedlist>
			<listitem>
				<para>
					The <emphasis>Capacity &amp; Utilization Coordinator</emphasis> role checks to see if it is time to collect data, somewhat like a scheduler. If it is time, a job is queued for the capacity and utilization data collector. The coordinator role is required to complete capacity and utilization data collection. If more than one Server in a specific zone has this role, only one will be active at a time.
				</para>
			</listitem>
			<listitem>
				<para>
					The <emphasis>Capacity &amp; Utilization Data Collector</emphasis> performs the actual collection of capacity and utilization data. This role has a dedicated worker, and there can be more than one server with this role in a zone.
				</para>
			</listitem>
			<listitem>
				<para>
					The <emphasis>Capacity &amp; Utilization Data Processor</emphasis> processes all of the data collected, allowing <productname>CloudForms Management Engine</productname> to create charts. This role has a dedicated worker, and there can be more than one server with this role in a zone.
				</para>
			</listitem>
		</itemizedlist>
		<xi:include href="topics/To_assign_the_Capacity_Utilization_Server_Roles.xml" xmlns:xi="http://www.w3.org/2001/XInclude" />
		<xi:include href="topics/Notes_on_Capacity_and_Utilization_Collection_for_RHEVM_3.1.xml" xmlns:xi="http://www.w3.org/2001/XInclude" />
		<xi:include href="topics/Data_Collection_for_Red_Hat_Enterprise_Virtualization_3.3_and_3.4.xml" xmlns:xi="http://www.w3.org/2001/XInclude" />
		<xi:include href="topics/Adding_Database_Credentials_for_Data_Collection.xml" xmlns:xi="http://www.w3.org/2001/XInclude" />
		<xi:include href="topics/Data_Collection_for_Red_Hat_Enterprise_Linux_OpenStack_Platform.xml" xmlns:xi="http://www.w3.org/2001/XInclude" />
	</section>
	<section id="sect-Data_Collected">
		<title>Data Collected</title> 
		<para> 
			<productname>CloudForms Management Engine</productname> generates charts from the collected data which can be used to plan your hardware and virtual machine needs. Depending on the type of data, these charts may include lines for averages, maximums, minimums, and trends.
		</para>
		<note>
			<para>
				For reporting of daily capacity and utilization data, incomplete days (days with less than 24 hourly data points from midnight to midnight) that are at the beginning or end of the requested interval are excluded. Days with less than 24 hourly data points would be inaccurate and including them would skew trend lines. Therefore, at least one full day of hourly data from midnight to midnight is necessary for displaying the capacity and utilization charts under the infrastructure tab
			</para>
		</note>
		<xi:include href="topics/Capacity_and_Utilization_Charts_for_Host_Clusters_and_Virtual_Machines.xml" xmlns:xi="http://www.w3.org/2001/XInclude" />
		<xi:include href="topics/Capacity_and_Utilization_Charts_for_Datastores.xml" xmlns:xi="http://www.w3.org/2001/XInclude" />
	</section>
	<section id="sect-Chart_Features">
		<title>Chart Features</title> 
		<para>
			Each chart provides its own set of special features including zooming in on a chart and shortcut menus.
		</para>
		<xi:include href="topics/To_zoom_into_a_chart.xml" xmlns:xi="http://www.w3.org/2001/XInclude" />
		<xi:include href="topics/To_drill_into_chart_data.xml" xmlns:xi="http://www.w3.org/2001/XInclude" />
	</section>
	<xi:include href="topics/Optimization.xml" xmlns:xi="http://www.w3.org/2001/XInclude" />
	<section id="sect-Utilization_Trends">
		<title>Utilization Trends</title> 
		<para> 
			<productname>CloudForms Management Engine</productname> allows you to view the resource utilization of your clusters, providers, and datastores. You can choose from summary, details, or report view.
		</para>
		<xi:include href="topics/To_view_utilization_trend_summary.xml" xmlns:xi="http://www.w3.org/2001/XInclude" />
		<xi:include href="topics/To_view_detail_lines_of_a_utilization_trend.xml" xmlns:xi="http://www.w3.org/2001/XInclude" />
		<xi:include href="topics/To_view_a_report_of_a_utilization_trend.xml" xmlns:xi="http://www.w3.org/2001/XInclude" />
	</section>
	<section id="sect-Planning">
		<title>Planning</title> 
		<para>
			You can use the data collected in the VMDB to plan where you can put additional virtual machines. <productname>CloudForms Management Engine</productname> allows you to use a reference virtual machine as an example to plan on which hosts and clusters you can place a new virtual machine.
		</para>
		<xi:include href="topics/To_plan_where_to_put_a_new_Virtual_Machine.xml" xmlns:xi="http://www.w3.org/2001/XInclude" />
	</section>
	<section id="sect-Bottlenecks">
		<title>Bottlenecks</title> 
		<para> 
			<productname>CloudForms Management Engine</productname> can show where bottlenecks occur in your virtual infrastructure. You can view them either on a timeline or as a report which can be downloaded for further analysis.
		</para>
		<xi:include href="topics/To_view_the_bottleneck_summary.xml" xmlns:xi="http://www.w3.org/2001/XInclude" />
		<xi:include href="topics/To_view_a_report_of_the_bottlenecks_trend.xml" xmlns:xi="http://www.w3.org/2001/XInclude" />
	</section>
</chapter>