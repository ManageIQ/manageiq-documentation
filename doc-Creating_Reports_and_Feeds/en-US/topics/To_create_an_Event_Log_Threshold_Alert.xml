<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE section PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN" "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
<!ENTITY % BOOK_ENTITIES SYSTEM "../Control_Guide.ent">
%BOOK_ENTITIES;
]>
<section id="To_create_an_Event_Log_Threshold_Alert" remap="TID_14814">
	<title>Creating an Event Log Threshold Alert</title>
	<para>
		Use event log thresholds to send a notification when certain items are found in the event logs for a virtual machine. A default analysis profile with event log items is required for this feature. See <ulink url="https://access.redhat.com/documentation/en-US/CloudForms/3.2/html/Insight_Guide/index.html"><citetitle>CloudForms Management Engine Insight Guide</citetitle></ulink> for details. In this example, we will check the virtual machines log for an error in the NTP Client.
	</para>
	<procedure>
		<title>To Create an Event Log Threshold Alert</title>
		<step>
			<para>
				Navigate to menu:Control[Explorer].
			</para>
		</step>
		<step>
			<para>
				Click on the [label]#Alerts# accordion, then click 
				<inlinemediaobject>
					<imageobject>
						<imagedata fileref="images/1847.png" />
					</imageobject>
				</inlinemediaobject> (<guilabel>Configuration</guilabel>), 
				<inlinemediaobject>
					<imageobject>
						<imagedata fileref="images/1848.png" />
					</imageobject>
				</inlinemediaobject> (<guilabel>Add a new Alert</guilabel>).
			</para>
		</step>
		<step>
			<para>
				In the <guilabel>Info</guilabel> area:
			</para>
			<substeps>
				<step>
					<para>
						Type in a description for the alert.
					</para>
				</step>
				<step>
					<para>
						Check <guilabel>Active</guilabel> when you feel that the alert is ready to be enabled.
					</para>
				</step>
				<step>
					<para>
						From <guilabel>Based On</guilabel>, select <guilabel>VM and Instance</guilabel>.
					</para>
				</step>
				<step>
					<para>
						For <guilabel>What to Evaluate</guilabel>, select [label]#Event Log Threshold#.
					</para>
				</step>
				<step>
					<para>
						In <guilabel>Notification Frequency</guilabel>, select how often you want to be notified if the event log threshold is reached.
					</para>
				</step>
			</substeps>
		</step>
		<step>
			<para>
				In the <guilabel>Event Log Threshold Parameters</guilabel> area, select the parameters for the event log message. You can set a threshold for a filter, level, or message source.
			</para>
			<mediaobject>
				<imageobject>
					<imagedata align="center" fileref="images/1969.png" />
				</imageobject>
			</mediaobject>
			<substeps>
				<step>
					<para>
						Use <guilabel>Message Filter</guilabel>, to look for specific text in a message.
					</para>
				</step>
				<step>
					<para>
						Use <guilabel>Event Level</guilabel> to specify a message level and <guilabel>Event Id</guilabel> to filter for an event number. CloudForms Management Engine will report on the specified level and above. Specify an <guilabel>Event Source</guilabel> if that is how you want to filter log messages.
					</para>
				</step>
				<step>
					<para>
						Set <guilabel>How Far Back to Check</guilabel> in time you want to look for this message.
					</para>
				</step>
				<step>
					<para>
						If you only need an alert triggered when the log message has occurred a certain number of times, type the number in <guilabel>Event Count Threshold</guilabel>.
					</para>
				</step>
			</substeps>
		</step>
		<step>
			<para>
				After setting the parameters, select what you want the alert to do. You can send an email, create an SNMP Trap, let the alert show on the timeline, or send a management event to start an automation process. <!-- See Creating an Alert.-->
			</para>
		</step>
		<step>
			<para>
				Click <guibutton>Add</guibutton>.
			</para>
		</step>
	</procedure>
</section>