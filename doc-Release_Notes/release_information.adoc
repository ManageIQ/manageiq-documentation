[[release_information]]
== Release Information

=== Enhancements

This release of Red Hat CloudForms features the following enhancements:

BZ#link:https://bugzilla.redhat.com/1202556[1202556]

------

The new version of CloudForms Management Engine adds the ability to import reports using both the command line and the REST API. This feature addresses the need to import reports without using the CloudForms Management Engine user interface.
------

BZ#link:https://bugzilla.redhat.com/1127780[1127780]

------

As there was a need for an ability to modify tags outside of the user interface, this enhancement enables tag management such as (add, delete, list etc) through web services similar to the functionality a user would have through the user interface. This is now available via REST API.
------

BZ#link:https://bugzilla.redhat.com/1183092[1183092]

------

The new version of CloudForms Management Engine no longer changes, deletes or overwrites the /etc/init/control-alt-delete.override and /var/www/miq/system/LINK/etc/init/control-alt-delete.override files. Any change to these files would result in breaking STIG (Security Technical Implementation Guide) compliance. This ability allows the implementation to remain compliant with STIG requirements.
------

BZ#link:https://bugzilla.redhat.com/1247298[1247298]

------

Multi-tenancy provides a mechanism to group or isolate resources and identity via a single instance of the software serving multiple client organizations (tenants). It enables sharing of resources and costs across a large pool of users to allow for:
-Centralization of infrastructure in locations with lower costs (e.g. real estate, electricity)
-Peak-load capacity increases (users need not engineer for highest possible load-levels
-Utilization and efficiency improvements for systems that are often only 10-20% utilized
------

BZ#link:https://bugzilla.redhat.com/1215990[1215990]

------

The new version of CloudForms Management Engine enhances the Automate engine to allow the on_entry and on_error methods of a state machine to advance to the next state under valid conditions. For on_entry methods, it checks if the method is required to run. For on_error methods, it handles and recovers from errors.
------

BZ#link:https://bugzilla.redhat.com/1170760[1170760]

------

The new version of CloudForms Management Engine adds the ability to disable the admin user after adding LDAP as a user authentication mechanism. This feature adds the ability to protect the admin account from brute force attacks via the web user interface, as password constraints cannot otherwise be enforced for the admin account.
------

BZ#link:https://bugzilla.redhat.com/1124520[1124520]

------

The new version of CloudForms Management Engine adds the ability to dynamically update the virtual machine hardware reconfiguration dialog box based on the limits defined by the lowest virtual machine hardware definition. The hardware definitions were hard coded in the previous version limiting the ability to reconfigure a virtual machine's memory to a maximum of 16GB. The user is now able to reconfigure virtual machine memory as desired.
------

BZ#link:https://bugzilla.redhat.com/1270148[1270148]

------

The new version of CloudForms Management Engine adds the ability to create tag names containing up to 50 characters. The previous version limited tag names to 30 characters. This increase in maximum tag name size was done to allow creation of tag names based on Cloud and OpenStack tenant names.
------

BZ#link:https://bugzilla.redhat.com/1126934[1126934]

------

There was a need to have a quota rule using the space actually consumed by the template, rather than enforce quota on space allocated. This enhancement consolidates quota code to help facilitate resolution. Quota can now be enforced based on used space.
------

BZ#link:https://bugzilla.redhat.com/1202884[1202884]

------

The new version of CloudForms Management Engine adds the ability to gracefully shutdown virtual machines hosted on an OpenStack provider and shelve the OpenStack instance. This capability was already available for infrastructure providers.
------

BZ#link:https://bugzilla.redhat.com/1248848[1248848]

------

The new version of CloudForms Management Engine removes the user interface and code that provided support for Ruby expressions in conditions. This was done to enhance security of the CloudForms Management Engine appliance.
------

BZ#link:https://bugzilla.redhat.com/1206666[1206666]

------

The new version of CloudForms Management Engine removes the requirement to pass the LOCK_CONSOLE=false environment variable when starting the applicance console as the root user over a SSH connection. This makes it easier to start the console when operating in the Open Stack environment.
------

BZ#link:https://bugzilla.redhat.com/1262984[1262984]

------

The new version of CloudForms Management Engine no longer ships with the outdated /var/www/miq/vmdb/certs/ca.cer certificate authority file. This file is no longer in use. Additionally, all references to the file in documentation have been removed.
------

BZ#link:https://bugzilla.redhat.com/1182644[1182644]

------

The new version of CloudForms Management Engine adds the ability to run the CloudForms appliance console as a non-root user. This ability allows the implementation to remain compliant with STIG (Security Technical Implementation Guide) requirements.
------

BZ#link:https://bugzilla.redhat.com/1221760[1221760]

------

The new version of CloudForms Management Engine adds the ability to do a full tree search when looking for users under a LDAP directory branch. This feature was added as the default configuration was not able to do a sub-tree search to find all users from the LDAP directory branch. This feature is available as a configuration option in the new version of CloudForms Management Engine.
------

BZ#link:https://bugzilla.redhat.com/1254953[1254953]

------

There was a need to manage tags via Automate. This enhancement adds a new class method 'categories' to return an array of MiqAeService::MiqAeClassification objects, and exposes the entries method in the MiqAeService::MiqAeClassification to access the entries in a category.
Automate methods can now access categories and entries.
------

BZ#link:https://bugzilla.redhat.com/1227045[1227045]

------

The new version of CloudForms Management Engine adds the ability to filter service catalog items during deployment. The new deployment model allows the service designer to factor in the dynamic nature of the deployment process, where the user can select a sub-set of services. Automate will exclude all other catalog service items during deployment.
------

BZ#link:https://bugzilla.redhat.com/1180768[1180768]

------

The appliance image for the new version of CloudForms Management Engine adds separate mount points for the /var, /var/log, /var/log/audit, /home and /tmp directories. This enhancement allows CloudForms Management Engine implementations to remain compliant with STIG (Security Technical Implementation Guide) requirements.
------

BZ#link:https://bugzilla.redhat.com/1183094[1183094]

------

In the previous version of CloudForms Management Engine, it was not possible to use an OCSP responder to serve CRLs as the Apache http server shipped in that version did not support OCSP. This resulted in a high administrative overhead. This issue was fixed by upgrading the Apache http server to version 2.5 in the new version of CloudForms Management Engine.
------

BZ#link:https://bugzilla.redhat.com/1236174[1236174]

------

The new version of CloudForms Management Engine enhances the Automate engine to support multiple state machines to be executed in a single workspace. This allows for one state machine to call another state machine in the same workspace. If any one of the state machines in the chain ends with a retry or error, all the state machines end with a retry or error correspondingly.
------

BZ#link:https://bugzilla.redhat.com/1257748[1257748]

------

The new version of CloudForms Management Engine adds the ablity to change a user's password using the REST API. This feature was added to address the need to change the CloudForms Management Engine's administrator's password during deployment from the Red Hat Cloud Infrastructure product.
------

BZ#link:https://bugzilla.redhat.com/1218746[1218746]

------

The new version of CloudForms Management Engine adds multi-tenant support for orchestrating stacks. This feature adds the ability to collect stack information from all tenants during an orchestration refresh, adds the option to select the tenant in the orchestration provisioning dialog and the ability to operate the stack on the selected tenant.
------

BZ#link:https://bugzilla.redhat.com/1159009[1159009]

------

There was a need to provide users the ability to change from one v2_key to another.  This need arose as a customer has a development and production environment with different encryption keys.  After exporting and importing an automate model, the new database could no longer access these keys. Previously, the keys could be deleted, but there was a need for a way to migrate the data from being encrypted with one key into another.

With this enhancement, fix_auth now converts old v2 keys.
------

BZ#link:https://bugzilla.redhat.com/1238268[1238268]

------

The new version of CloudForms Management Engine adds the capability to retrieve Reporting reports with RESTapi. The reports are returned in the JSON format in response to port standard RESTapi inventory calls.
------

BZ#link:https://bugzilla.redhat.com/1260196[1260196]

------

The new version of CloudForms Management Engine collects and stores inventory information about disks available for flavours on cloud providers.
------


=== Release Notes

This section outlines important details about the release, including recommended practices and notable changes to Red Hat CloudForms. You must take this information into account to ensure the best possible outcomes for your deployment.

BZ#link:https://bugzilla.redhat.com/1220863[1220863]

------

&lt;insert VHD Image functionality here to be included in the CloudForms 3.2 Maintenance Release Notes&gt;
------

BZ#link:https://bugzilla.redhat.com/1235984[1235984]

------

Red Hat CloudForms ships with a core set of Ruby Gems used by the CloudForms Management Engine Rails Application. The Ruby Gems in this set are subject to change, and have changed since CloudForms 3.1/CFME 5.3. If you are calling gems using Automate that are no longer in the CFME Appliance, you can install them by using the `gem install` command. While they can be &#96;require&#39;d into automation methods, it is recommended that the authors of the automation methods clearly document the use of gems either in the core set or a custom set. It is the responsibility of the author of such custom automation to own the lifecycle of any gem being referenced in those methods.
------


=== Known Issues
These known issues exist in Red Hat CloudForms at this time:

BZ#link:https://bugzilla.redhat.com/1223324[1223324]

------

In Red Hat CloudForms 3.2, the oo-install-ose command used to set up OpenShift on Red Hat CloudForms fails because the incorrect version of Ruby is installed. As a workaround, perform the following procedure:

1. Download and unpack the oo-install-ose

* cd /root

* wget -O oo-install-ose.tgz &lt;the link from [2]&gt;

* tar xfv oo-install-ose.tgz

* mv oo-install oo-install-ose

2. Install the SCL ruby

* subscription-manager repos --enable rhel-server-rhscl-6-rpms

* yum install ruby193-ruby-irb ruby193-ruby

Verify that Ruby has been installed: 

scl enable ruby193 "ruby -v"

3. Create a shim that runs the oo-install-ose in ruby193 scl

* cd oo-install-ose

* mv oo-install-ose oo-install-ose-orig

* vim oo-install-ose:

#!/usr/bin/env bash

scl enable ruby193 "./oo-install-ose-orig $@"

* chmod +x oo-install-ose

This issue will be resolved in a future release of Red Hat CloudForms.
------

BZ#link:https://bugzilla.redhat.com/1225541[1225541]

------

At current, attempting to perform a Smart State analysis of a VMware vSphere 6 virtual machine with Virtual Disk Development Kit 6.0 returns an 'Unable to determine port' error, causing the analysis to fail. As a workaround, use Virtual Disk Development Kit 5.5. This issue will be resolved in a future release of Red Hat CloudForms.
------

BZ#link:https://bugzilla.redhat.com/1222958[1222958]

------

When an OpenStack provider is set up with services behind SSL termination, and a Red Hat CloudForms appliance is configured to communicate to the Keystone SSL endpoint, users may see the following error in the evm.log (and fog.log):

  #&lt;Excon::Errors::SocketError: end of file reached (EOFError)&gt;

This error occurs because Red Hat CloudForms tries both non-SSL and SSL connections when getting the Keystone security token. This is a benign known issue and is scheduled to be addressed in a future version.
------

BZ#link:https://bugzilla.redhat.com/1222591[1222591]

------

In Red Hat CloudForms 3.2 (CloudForms Management Engine 5.4), the cloud-init function blocks SSH access for the root user to virtual machines hosted in Red Hat Enterprise Virtualization 3.4 environments. Note that this issue only occurs in Red Hat Enterprise Virtualization 3.4, and that cloud-init functions correctly for Red Hat Enterprise Virtualization 3.3 and Red Hat Enterprise Virtualization 3.5. This issue will be addressed in a future release.
------


