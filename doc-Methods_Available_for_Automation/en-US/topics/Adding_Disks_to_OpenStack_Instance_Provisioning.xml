<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE section PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN" "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
<!ENTITY % BOOK_ENTITIES SYSTEM "../Methods_Available_for_Automation.ent">
%BOOK_ENTITIES;
]>
<section id="Adding_Disks_to_OpenStack_Instance_Provisioning" remap="TID_43185">
	<title>Adding Disks to OpenStack Instance Provisioning</title>
	<para>
		Using the clone_options, construct the keys and values required to define new disks as well as override or set other keys if needed.
	</para>
	<example>
		<title>Usage in Automate Model</title>
		<para>
			Include the following settings with prov.set_options to set one or multiple volumes to attach. Note that each hash requires the :volume_id and :device_name keys. 
			<screen>
clone_options = {
  :block_device_mapping =&gt; [
    {:volume_id =&gt; "d4xxxx92-5xx0-4xx9-bxx4-f1xxxxxxxx19", :device_name =&gt; "/dev/sdb"},
    {:volume_id =&gt; "e7xxxxf5-dxxd-4xx0-8xx3-a2xxxxxxxx12", :device_name =&gt; "/dev/sdc"},
  ]
}

prov = $evm.root["miq_provision"]
prov.set_option(:clone_options, clone_options)
      </screen>
		</para>
	</example>
</section>