<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE section PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN" "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
<!ENTITY % BOOK_ENTITIES SYSTEM "../Control_Guide.ent">
%BOOK_ENTITIES;
]>
<section id="Operational_Alerts" remap="TID_14833">
	<title>Operational Alert Types</title>
	<table frame="all">
		<title>Operational Alerts</title>
		<tgroup cols="3">
			<thead>
				<row>
					<entry>
						<para>
							Driving Event
						</para>
					</entry>
					<entry>
						<para>
							Explanation (Thresholds, Description)
						</para>
					</entry>
					<entry>
						<para>
							Proposed Action if Alert is Raised
						</para>
					</entry>
				</row>
			</thead>
			<tbody>
				<row>
					<entry>
						<para>
							EVM Server Start
						</para>
					</entry>
					<entry>
						<para>
							Alert is raised when an EVM Server starts.
						</para>
					</entry>
					<entry>
						<para />
					</entry>
				</row>
				<row>
					<entry>
						<para>
							EVM Server Stop
						</para>
					</entry>
					<entry>
						<para>
							Alert is raised when an EVM Server stops.
						</para>
					</entry>
					<entry>
						<para />
					</entry>
				</row>
				<row>
					<entry>
						<para>
							EVM Server Not Responding
						</para>
						<para />
					</entry>
					<entry>
						<para>
							Alert is raised when one EVM server detects that another EVM Server has not responded in (2 minutes).
						</para>
					</entry>
					<entry>
						<para>
							This is a sign of a problem that should be investigated. Check logs.
						</para>
					</entry>
				</row>
				<row>
					<entry>
						<para>
							EVM Server Exceeded Memory Limit
						</para>
					</entry>
					<entry>
						<para>
							Alert is raised when an EVM server has exceeded its system memory limit and begins killing workers. Default is 80%.
						</para>
						<para />
						<para>
							Threshold configured in Advanced Settings.
						</para>
						<para>
							server:
						</para>
						<para>
							:worker_monitor:
						</para>
						<para>
							:kill_algorithm:
						</para>
						<para>
							:name: :used_swap_percent_gt_value
						</para>
						<para>
							:value: 80
						</para>
					</entry>
					<entry>
						<para>
							This may be caused by the following issues: 
							<itemizedlist>
								<listitem>
									<para>
										The server is running with too few resources.
									</para>
								</listitem>
								<listitem>
									<para>
										The server is enabled with too many roles or number of workers.
									</para>
								</listitem>
								<listitem>
									<para>
										The server picked up all the roles because another server has failed.
									</para>
								</listitem>
								<listitem>
									<para>
										A runaway process has taken up most of the memory.
									</para>
								</listitem>
							</itemizedlist>
						</para>
					</entry>
				</row>
				<row>
					<entry>
						<para>
							EVM Server is Master
						</para>
					</entry>
					<entry>
						<para>
							When one EVM Server takes over as a master server.
						</para>
					</entry>
					<entry>
						<para>
							Typically, this should only occur when first starting a set of servers, perhaps following expected outages. If a server picks up as master in other situations, the old master had an issue that needs to be researched (such as server not responding in time).
						</para>
					</entry>
				</row>
				<row>
					<entry>
						<para>
							EVM Server High System Disk Usage
						</para>
					</entry>
					<entry>
						<para>
							The EVM Servers system disk is 80% full. This check is run as part of a system schedule.
						</para>
						<para />
						<para>
							Threshold configured in Advanced Settings.
						</para>
						<para>
							server:
						</para>
						<para>
							events:
						</para>
						<para>
							:disk_usage_gt_percent: 80
						</para>
					</entry>
					<entry>
						<para>
							Something is filling the disk such as temp files used by the operating system such as, yum updates and normal /tmp files, or EVM temp files in /var/lib/data/miqtemp/.
						</para>
					</entry>
				</row>
				<row>
					<entry>
						<para>
							EVM Server High App Disk Usage
						</para>
					</entry>
					<entry>
						<para>
							The EVM Servers app disk is 80% full. This check is run as part of a system schedule.
						</para>
						<para />
						<para>
							Threshold configured in Advanced Settings.
						</para>
						<para>
							server:
						</para>
						<para>
							events:
						</para>
						<para>
							:disk_usage_gt_percent: 80
						</para>
					</entry>
					<entry>
						<para>
							Possibly EVM temp files are being left around.
						</para>
					</entry>
				</row>
				<row>
					<entry>
						<para>
							EVM Server High Log Disk Usage
						</para>
					</entry>
					<entry>
						<para>
							The EVM Servers log disk is 80% full. This check is run as part of a system schedule.
						</para>
						<para />
						<para>
							Threshold configured in Advanced Settings.
						</para>
						<para>
							server:
						</para>
						<para>
							events:
						</para>
						<para>
							:disk_usage_gt_percent: 80
						</para>
					</entry>
					<entry>
						<para>
							Logs are getting too big or are not being log rotated properly every day. Check most recent logs.
						</para>
					</entry>
				</row>
				<row>
					<entry>
						<para>
							EVM Server High DB Disk Usage
						</para>
					</entry>
					<entry>
						<para>
							The EVM Servers db disk is 80% full. This check is run as part of a system schedule. Applies if using PostgreSQL as the VDMB.
						</para>
						<para />
						<para>
							Threshold configured in Advanced Settings.
						</para>
						<para>
							server:
						</para>
						<para>
							events:
						</para>
						<para>
							:disk_usage_gt_percent: 80
						</para>
					</entry>
					<entry>
						<para>
							Database or database logging is getting too large. May need FULL vacuuming of PostgreSQL database.
						</para>
					</entry>
				</row>
				<row>
					<entry>
						<para>
							EVM Worker Started
						</para>
					</entry>
					<entry>
						<para>
							Alert is raised when a worker is about to start.
						</para>
					</entry>
					<entry>
						<para />
					</entry>
				</row>
				<row>
					<entry>
						<para>
							EVM Worker Stopped
						</para>
						<para />
					</entry>
					<entry>
						<para>
							Alert is raised when a worker is requested to stop.
						</para>
					</entry>
					<entry>
						<para />
					</entry>
				</row>
				<row>
					<entry>
						<para>
							EVM Worker Killed
						</para>
					</entry>
					<entry>
						<para>
							Alert is raised when a non- responsive worker does not restart on its own and is killed.
						</para>
					</entry>
					<entry>
						<para />
					</entry>
				</row>
				<row>
					<entry>
						<para>
							EVM Worker Not Responding
						</para>
					</entry>
					<entry>
						<para>
							Alert is raised when a worker has not responded for 2 minutes (:heartbeat_timeout) or has not started within 10 minutes (:starting_timeout).
						</para>
					</entry>
					<entry>
						<para />
					</entry>
				</row>
				<row>
					<entry>
						<para>
							EVM Worker Exceeded Memory Limit
						</para>
					</entry>
					<entry>
						<para>
							Alert is raised when a worker exceeds the memory threshold. The default is 150 MB, but some workers have their own value in the :memory_threshold section for that specific worker.
						</para>
					</entry>
					<entry>
						<para />
					</entry>
				</row>
				<row>
					<entry>
						<para>
							EVM Worker Exceeded Uptime Limit
						</para>
					</entry>
					<entry>
						<para>
							Alert is raised when a worker has been running longer than the :restart_interval. (Most workers are set to never restart using the 0.hours setting.) The EMS Refresh SmartProxy workers are set to restart every 2 hours.
						</para>
					</entry>
					<entry>
						<para />
					</entry>
				</row>
				<row>
					<entry>
						<para>
							EVM Worker Exit File
						</para>
					</entry>
					<entry>
						<para>
							Alert is raised when the scheduler worker exits due to a pending large ntp time change.
						</para>
					</entry>
					<entry>
						<para />
					</entry>
				</row>
			</tbody>
		</tgroup>
	</table>
</section>