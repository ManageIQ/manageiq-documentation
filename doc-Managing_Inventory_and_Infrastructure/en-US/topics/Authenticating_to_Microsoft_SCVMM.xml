<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE section PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN" "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
<!ENTITY % BOOK_ENTITIES SYSTEM "../Insight_Guide.ent">
%BOOK_ENTITIES;
]>
<section id="Authenticating_to_Microsoft_SCVMM" remap="TID_41931">
	<title>Authenticating to Microsoft SCVMM</title>
	<para>
		You must enable WinRM to listen for HTTP traffic on Microsoft SCVMM servers in order for CloudForms Management Engine to establish a connection. You must also set the appropriate execution policy on the SCVMM server to allow PowerShell scripts from the appliance to run remotely.
	</para>
	<important>
		<para>
			Support for Microsoft SCVMM is in Technology Preview. See <ulink url="https://access.redhat.com/support/offerings/techpreview/">Technology Preview Features Support Scope</ulink>.
		</para>
	</important>
	<procedure>
		<step>
			<para>
				Log in to the Microsoft SCVMM server and enable WinRM for configuration. 
				<screen>winrm quick config</screen>
			</para>
		</step>
		<step>
			<para>
				Set the following options: 
				<screen>winrm set winrm/config/client/auth @{Basic="true"}
winrm set winrm/config/service/auth @{Basic="true"}
winrm set winrm/config/service @{AllowUnencrypted="true"}</screen>
			</para>
		</step>
		<step>
			<para>
				For Windows 2012 R2 with PowerShell 4.0, use the following syntax to set these options: 
				<screen>winrm set winrm/config/client/auth '@{Basic="true"}'
winrm set winrm/config/service/auth '@{Basic="true"}'
winrm set winrm/config/service '@{AllowUnencrypted="true"}'</screen>
			</para>
		</step>
		<step>
			<para>
				Enable remote script execution on the SCVMM server using the <command>Set-ExecutionPolicy</command> cmdlet. 
				<screen>Set-ExecutionPolicy RemoteSigned</screen> For more information on SCVMM remote script execution policies, see <ulink url="http://technet.microsoft.com/en-us/library/ee176961.aspx">Using the Set-ExecutionPolicy Cmdlet</ulink>.
			</para>
		</step>
	</procedure>
	<para>
		If PowerShell returns an error, search for <literal>log_dos_error_results</literal> in the <filename>evm.log</filename> and <filename>scvmm.log</filename> files for information.
	</para>
</section>