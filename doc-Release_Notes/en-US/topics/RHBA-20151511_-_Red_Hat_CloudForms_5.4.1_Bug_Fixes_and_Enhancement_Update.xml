<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE section PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN" "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
<!ENTITY % BOOK_ENTITIES SYSTEM "../Release_Notes.ent">
%BOOK_ENTITIES;
]>
<section id="RHBA-20151511_-_Red_Hat_CloudForms_5.4.1_Bug_Fixes_and_Enhancement_Update" remap="TID_44489">
	<title>RHBA-2015:1511 - Red Hat CloudForms 5.4.1 Bug Fixes and Enhancement Update</title>
	<para>The bugs contained in this section are addressed by advisory RHBA-2015:1511. Further information about this advisory is available at <ulink url="https://rhn.redhat.com/errata/RHBA-2015-1511.html">https://rhn.redhat.com/errata/RHBA-2015-1511.html</ulink>.</para>
			<variablelist>
			<title>Appliance</title>
			<varlistentry>
				<term>BZ#<ulink url="https://bugzilla.redhat.com/show_bug.cgi?id=1243080">1243080</ulink></term>
				<listitem>
					<para>
<screen>
Previously, attempting to register an appliance or validate the registration of an appliance with Red Hat Subscription Manager would fail when the Organization ID field, which is only visible when 'Red Hat Satellite 5' is selected from the 'Register to' list, was not empty. With this update, this field is ignored when values other than 'Red Hat Satellite 5' are selected, allowing registration to complete successfully.
</screen>
					</para>
				</listitem>
			</varlistentry>
		</variablelist>
		<variablelist>
			<title>Automate</title>
			<varlistentry>
				<term>BZ#<ulink url="https://bugzilla.redhat.com/show_bug.cgi?id=1228411">1228411</ulink></term>
				<listitem>
					<para>
<screen>
This update resolves an issue that prevented the name of virtual machines from being overwritten by that specified in service dialogs.
</screen>
					</para>
				</listitem>
			</varlistentry>
		</variablelist>
		<variablelist>
			<title>Control</title>
			<varlistentry>
				<term>BZ#<ulink url="https://bugzilla.redhat.com/show_bug.cgi?id=1232022">1232022</ulink></term>
				<listitem>
					<para>
<screen>
Previously, attempting to create a new alarm and setting the 'What to evaluate' field to 'VMware Alarm' would result in the error 'undefined method `[]' for nil:NilClass [miq_policy/alert_field_changed]'. This update resolves a syntax error in the code used to form options for VMware alarms, making it possible to successfully create a new alarm when the 'What to evaluate' field is set to 'VMware alarm'.
</screen>
					</para>
				</listitem>
			</varlistentry>
		</variablelist>
		<variablelist>
			<title>Insight</title>
			<varlistentry>
				<term>BZ#<ulink url="https://bugzilla.redhat.com/show_bug.cgi?id=1140693">1140693</ulink></term>
				<listitem>
					<para>
<screen>
Previously, communication between Red Hat CloudForms Management engine appliances and OpenStack environments was not encrypted, resulting in authentication information being transmitted in clear text. With this update, it is now possible to use SSL when communicating with OpenStack environments, allowing information to be encrypted.
</screen>
					</para>
				</listitem>
			</varlistentry>
			<varlistentry>
				<term>BZ#<ulink url="https://bugzilla.redhat.com/show_bug.cgi?id=1233412">1233412</ulink></term>
				<listitem>
					<para>
<screen>
Normally when a user is removed, say from the UI, the associated dashboard is cleared as well. However, during migration from CFME 3.0 to 3.1, some users got deleted and left behind their dashboards in the database. As a result, widgets could not be generated by the admin user that include groups that have no user id set. 

With this release, code has been updated to skip the user that does not exist any more. This has resolved the issue and widget generation is now successful.
</screen>
					</para>
				</listitem>
			</varlistentry>
		</variablelist>
		<variablelist>
			<title>Internationalization</title>
			<varlistentry>
				<term>BZ#<ulink url="https://bugzilla.redhat.com/show_bug.cgi?id=1240347">1240347</ulink></term>
				<listitem>
					<para>
<screen>
Previously, certain text in the 'ja' locale in Red Hat CloudForms Management Engine appliances would be incorrectly broken into two lines in the Time Profile screen. With this update, this issue has now been resolved.
</screen>
					</para>
				</listitem>
			</varlistentry>
			<varlistentry>
				<term>BZ#<ulink url="https://bugzilla.redhat.com/show_bug.cgi?id=1230859">1230859</ulink></term>
				<listitem>
					<para>
<screen>
This update provides several enhancements to the text in the 'ja' locale for Red Hat CloudForms Management Engine appliances.
</screen>
					</para>
				</listitem>
			</varlistentry>
		</variablelist>
		<variablelist>
			<title>Performance</title>
			<varlistentry>
				<term>BZ#<ulink url="https://bugzilla.redhat.com/show_bug.cgi?id=1241119">1241119</ulink></term>
				<listitem>
					<para>
<screen>
Previously, the session object during provisioning was going over a threshold (SESSION_LOG_THRESHOLD) defined in vmdb/app/helpers/ui_constants.rb which caused the session object to be logged so it can be inspected to determine what data is being stored. The side effect of logging this extra data is the delay in the UI. Thus, there were long delays when going through tabs of provisioning.

With this update, log values and template list data only when log debugging is on. This has resolved the issue and the delay is now shortened.
</screen>
					</para>
				</listitem>
			</varlistentry>
		</variablelist>
		<variablelist>
			<title>Providers</title>
			<varlistentry>
				<term>BZ#<ulink url="https://bugzilla.redhat.com/show_bug.cgi?id=1241656">1241656</ulink></term>
				<listitem>
					<para>
<screen>
In the previous version of CloudForms Management Engine, SCVMM provider discovery failed where VM disks were not present and threw the following error:  This was because there was no validation to see if a disk was present.
Error: [NoMethodError]: undefined method `collect' for nil:NilClass  Method:[rescue in block in refresh]
Error: /var/www/miq/vmdb/app/models/ems_refresh/parsers/scvmm.rb:443:in `process_vm_storages

This bug was fixed by amending process_vm_storages procedure in scvmm.rb; returns if no disks are present on the VM.
</screen>
					</para>
				</listitem>
			</varlistentry>
			<varlistentry>
				<term>BZ#<ulink url="https://bugzilla.redhat.com/show_bug.cgi?id=1227909">1227909</ulink></term>
				<listitem>
					<para>
<screen>
Previously, due to OpenStack servers pagination issue, CloudForms EMS refresh did not find all instances in OpenStack when it exceeded 1000 instances.
With this update, the pagination issue has been resolved by fixing the limit and marker API parameters in nova's API for getting servers and flavors. The CloudForms EMS refresh now finds all instances correctly.
</screen>
					</para>
				</listitem>
			</varlistentry>
			<varlistentry>
				<term>BZ#<ulink url="https://bugzilla.redhat.com/show_bug.cgi?id=1244329">1244329</ulink></term>
				<listitem>
					<para>
<screen>
Previously, flavors were not collected for all tenants of OpenStack environments added to CloudForms Management Engine as providers. This would prevent users from seeing OpenStack provider entities such as instances or images if there were custom flavors that were created by a different administrative user than that used to connect to the provider. With this update, the flavors of all tenants are now collected correctly.
</screen>
					</para>
				</listitem>
			</varlistentry>
			<varlistentry>
				<term>BZ#<ulink url="https://bugzilla.redhat.com/show_bug.cgi?id=1235439">1235439</ulink></term>
				<listitem>
					<para>
<screen>
This version of CloudForms Management Engine adds the M4 and t2.large instance types for the Amazon EC2 cloud provider. These are new instance types that have been added recently to the Amazon EC2 cloud. These instance types can now be provisioned from CloudForms Management Engine.
</screen>
					</para>
				</listitem>
			</varlistentry>
		</variablelist>
		<variablelist>
			<title>Provisioning</title>
			<varlistentry>
				<term>BZ#<ulink url="https://bugzilla.redhat.com/show_bug.cgi?id=1240754">1240754</ulink></term>
				<listitem>
					<para>
<screen>
In the previous version of CloudForms Management Engine, provisioning a virtual machine on a Red Hat Enterprise Virtualization (RHEV) provider could fail if the virtual machine did not start up immediately upon the RHEV manager receiving the auto start request from the CloudForms Management Engine. This bug was fixed by adding a loop that checked 120 times if the virtual machine had booted before raising a provisioning error. Virtual machines can now be provisioned reliably on busy RHEV managers in the new version of CloudForms Management Engine.
</screen>
					</para>
				</listitem>
			</varlistentry>
			<varlistentry>
				<term>BZ#<ulink url="https://bugzilla.redhat.com/show_bug.cgi?id=1240373">1240373</ulink></term>
				<listitem>
					<para>
<screen>
In the previous version of CloudForms Management Engine, virtual machines provisioned on Red Hat Enterprise Virtualization (RHEV) did not auto start after provisioning if the memory allocated to the virtual machine was greater then virtual machine memory setting. This bug was fixed by validating that the memory reserved for the virtual machine is not larger then the virtual machine memory setting. Virtual machines now auto start correctly after provisioning in the new version of CloudForms Management Engine.
</screen>
					</para>
				</listitem>
			</varlistentry>
		</variablelist>
		<variablelist>
			<title>Web UI</title>
			<varlistentry>
				<term>BZ#<ulink url="https://bugzilla.redhat.com/show_bug.cgi?id=1243496">1243496</ulink></term>
				<listitem>
					<para>
<screen>
In the previous version of CloudForms Management Engine, accessing vm_infra/explorer raised "Error caught: [ArgumentError] comparison of Array with Array failed". This was because array was being sorted by boolean. The code was updated to fix issue in sort_tree method for VMs &amp; Templates tree, and vm_infra/explorer can be accessed without an error.
</screen>
					</para>
				</listitem>
			</varlistentry>
			<varlistentry>
				<term>BZ#<ulink url="https://bugzilla.redhat.com/show_bug.cgi?id=1230335">1230335</ulink></term>
				<listitem>
					<para>
<screen>
Previously, the message displayed after successfully creating a Red Hat Satellite provider in the Red Hat CloudForms Management Engine appliance user interface contained the term 'Foreman'. This message has now been corrected so that 'Red Hat Satellite' is referenced instead.
</screen>
					</para>
				</listitem>
			</varlistentry>
			<varlistentry>
				<term>BZ#<ulink url="https://bugzilla.redhat.com/show_bug.cgi?id=1240350">1240350</ulink></term>
				<listitem>
					<para>
<screen>
This update resolves an issue whereby the scroll bar on the default filters page would display extra directional arrows.
</screen>
					</para>
				</listitem>
			</varlistentry>
			<varlistentry>
				<term>BZ#<ulink url="https://bugzilla.redhat.com/show_bug.cgi?id=1243161">1243161</ulink></term>
				<listitem>
					<para>
<screen>
Previously, the scroll bar in pages where vertical scrolling was implemented would dip below the visible area on some screens. With this update, height calculation and the padding of the main_content div have been adjusted so that scroll bars end within the visible area.
</screen>
					</para>
				</listitem>
			</varlistentry>
		</variablelist>

</section>

