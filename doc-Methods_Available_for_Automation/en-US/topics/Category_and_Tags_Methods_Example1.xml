<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE section PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN" "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
<!ENTITY % BOOK_ENTITIES SYSTEM "../Methods_Available_for_Automation.ent">
%BOOK_ENTITIES;
]>
<section id="Category_and_Tags_Methods_Example1" remap="TID_15720">
	<title>Category and Tags Methods Example</title>
	<para>
		In this example, the VMDB is checked to see if the <guilabel>Department</guilabel> category exists. If it does, then a message is logged. If not, the category is created and a message is logged. Values are then added to the category.
	</para>
	<programlisting language="Ruby">
<![CDATA[
if $evm.execute('category_exists?', "department")
  $evm.log("info", "Classification department exists")
else
  $evm.log("info", "Classification department doesn't exist, creating category")
  $evm.execute('category_create', :name => "department", :single_value => false, :description => "Department")
  $evm.log("info", "Adding new tag in Department Category")
  $evm.execute(tag_create', "department", :name => "finance", :description => "Finance")
]]>
</programlisting>
</section>